#JOB 1
#Install and configure puppet agent on slave node 
#install and configure puppet agent on slave node (job1)
#First, run the following command to download the release package:
wget https://apt.puppetlabs.com/puppet6-release-focal.deb
#Then, run the following command to install the release package as sudo:
sudo dpkg -i puppet6-release-focal.deb
#Then, let’s update the apt package lists:
sudo apt-get update
sudo apt-get install puppet-agent -y
#Using your favorite text editor, open the hosts file. The following command uses vim:
sudo nano /etc/hosts
#Place the following two lines at the end of the file:
echo 10.0.2.15 puppetmaster >> /etc/hosts
echo 192.168.2.2 puppetclient >> /etc/hosts
#Then, on the agent machine, open the agent configuration file using your preferred text editor. 
sudo nano /etc/puppetlabs/puppet/puppet.conf
#Then, add the following lines to the file
echo [main] >> /etc/puppetlabs/puppet/puppet.conf
echo certname = puppetclient >> /etc/puppetlabs/puppet/puppet.conf
echo server = puppet >> /etc/puppetlabs/puppet/puppet.conf
#Run agent for the first time 
#On the server node, execute the following command to list the available certificates:
sudo /opt/puppetlabs/bin/puppetserver ca list --all
#Finally, execute the following command to sign all certificates:
sudo /opt/puppetlabs/bin/puppetserver ca sign --all
#Your configuration is done. It’s time to finally run the agent:
sudo systemctl start puppet
sudo systemctl enable puppet
sudo systemctl status puppet
#Finally, you can check whether the setup is working as expected:
sudo /opt/puppetlabs/bin/puppet agent --test



